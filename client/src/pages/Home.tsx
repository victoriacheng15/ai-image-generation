import { useHome } from "../hooks/useHome";
import Loader from "../components/Loader";
import FormField from "../components/FormField";
import RenderCard from "../components/RenderCard";

function Home() {
	const { loading, allPosts, searchText, searchedResults, handleSearchChange } =
		useHome();

	const title = (
		<h1 className="text-3xl font-extrabold">The Community Showcase</h1>
	);
	
	const paragraph = (
		<p className="mt-2 text-base">
			Browse through a collection if imaginative and visually stunning images
			generated by DALLE-E AI
		</p>
	);

	return (
		<>
			{title}
			{paragraph}
			<div className="mt-16 mb-8">
				<FormField
					label="Search posts:"
					type="text"
					name="text"
					placeholder="Search something.."
					value={searchText}
					handleChange={handleSearchChange}
				/>
			</div>
			{loading ? (
				<Loader />
			) : (
				<>
					{searchText && (
						<h2 className="my-4 mb-3 text-xl font-medium">
							Showing results for{" "}
							<span className="text-blue-800">{searchText}</span>{" "}
						</h2>
					)}
					<section className="grid grid-cols-1 gap-4 lg:grid-cols-4 sm:grid-cols-4 xs:grid-cols-2">
						{searchText ? (
							<RenderCard
								data={searchedResults}
								title="No search results found"
							/>
						) : (
							<RenderCard data={allPosts} title="No posts found" />
						)}
					</section>
				</>
			)}
		</>
	);
}

export default Home;
